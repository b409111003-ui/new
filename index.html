<script>
  // 使用者位置 icon（全身人）
  const userIcon = L.icon({
    iconUrl: "https://openmoji.org/data/color/svg/1F9D1.svg", // 🧑 全身人
    iconSize: [40, 40], // 調整大小
    iconAnchor: [20, 40], // 底部對齊腳的位置
    popupAnchor: [0, -40] // 提示框往上移
  });

  // 使用者位置
  let userMarker;
  navigator.geolocation.watchPosition(pos => {
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;
    if (!userMarker) {
      userMarker = L.marker([lat, lon], { icon: userIcon }).addTo(map).bindPopup("你在這裡");
      map.setView([lat, lon], 16);
    } else {
      userMarker.setLatLng([lat, lon]);
    }
  });
</script>
