<script>
  // ä½¿ç”¨è€…ä½ç½® iconï¼ˆå…¨èº«äººï¼‰
  const userIcon = L.icon({
    iconUrl: "https://openmoji.org/data/color/svg/1F9D1.svg", // ðŸ§‘ å…¨èº«äºº
    iconSize: [40, 40], // èª¿æ•´å¤§å°
    iconAnchor: [20, 40], // åº•éƒ¨å°é½Šè…³çš„ä½ç½®
    popupAnchor: [0, -40] // æç¤ºæ¡†å¾€ä¸Šç§»
  });

  // ä½¿ç”¨è€…ä½ç½®
  let userMarker;
  navigator.geolocation.watchPosition(pos => {
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;
    if (!userMarker) {
      userMarker = L.marker([lat, lon], { icon: userIcon }).addTo(map).bindPopup("ä½ åœ¨é€™è£¡");
      map.setView([lat, lon], 16);
    } else {
      userMarker.setLatLng([lat, lon]);
    }
  });
</script>
